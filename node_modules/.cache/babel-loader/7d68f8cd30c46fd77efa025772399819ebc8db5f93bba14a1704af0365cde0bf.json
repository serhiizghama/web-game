{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{motion}from\"framer-motion\";import\"./Start.css\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const AncientWheel=_ref=>{let{onChangePage,userPoints}=_ref;const[isSpinning,setIsSpinning]=useState(false);const[rotation,setRotation]=useState(0);const[waitForChangePage,setWaitForChangePage]=useState(false);const spinWheel=()=>{if(!isSpinning){setWaitForChangePage(true);setIsSpinning(true);const newRotation=rotation+1080+Math.random()*720;setRotation(newRotation);}};useEffect(()=>{if(!isSpinning&&waitForChangePage){onChangePage();}},[isSpinning,waitForChangePage,onChangePage]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"score\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"YOU HAVE \",/*#__PURE__*/_jsxs(\"span\",{className:\"counter\",children:[userPoints,\" $JDC\"]})]})}),/*#__PURE__*/_jsxs(motion.div,{className:\"ancient-wheel\",animate:{rotate:rotation},transition:{duration:5,ease:\"easeOut\"},onAnimationComplete:()=>setIsSpinning(false),children:[[...Array(24)].map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"wheel-sector\",style:{transform:`rotate(${index*15}deg)`}},index)),/*#__PURE__*/_jsx(\"div\",{className:\"wheel-border\"}),/*#__PURE__*/_jsx(\"div\",{className:\"wheel-inner-border\"})]}),!isSpinning&&/*#__PURE__*/_jsx(\"button\",{onClick:spinWheel,disabled:isSpinning,className:\"spin-button\",children:\"NEW GAME\"})||/*#__PURE__*/_jsx(\"h3\",{className:\"partner-selection\",children:\"PARTNER SELECTION\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\"})]});};export default AncientWheel;","map":{"version":3,"names":["React","useEffect","useState","motion","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","AncientWheel","_ref","onChangePage","userPoints","isSpinning","setIsSpinning","rotation","setRotation","waitForChangePage","setWaitForChangePage","spinWheel","newRotation","Math","random","children","className","div","animate","rotate","transition","duration","ease","onAnimationComplete","Array","map","_","index","style","transform","onClick","disabled"],"sources":["/Users/serhiizghama/Documents/work/game/web-game/src/pages/Start/Start.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { motion } from \"framer-motion\";\n\nimport \"./Start.css\";\n\nconst AncientWheel: React.FC<{\n  onChangePage: () => void;\n  userPoints: number;\n}> = ({ onChangePage, userPoints }) => {\n  const [isSpinning, setIsSpinning] = useState(false);\n  const [rotation, setRotation] = useState(0);\n  const [waitForChangePage, setWaitForChangePage] = useState(false);\n\n  const spinWheel = () => {\n    if (!isSpinning) {\n      setWaitForChangePage(true);\n      setIsSpinning(true);\n      const newRotation = rotation + 1080 + Math.random() * 720;\n      setRotation(newRotation);\n    }\n  };\n\n  useEffect(() => {\n    if (!isSpinning && waitForChangePage) {\n      onChangePage();\n    }\n  }, [isSpinning, waitForChangePage, onChangePage]);\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"score\">\n          <h3>\n            YOU HAVE <span className=\"counter\">{userPoints} $JDC</span>\n          </h3>\n        </div>\n\n        <motion.div\n          className=\"ancient-wheel\"\n          animate={{ rotate: rotation }}\n          transition={{ duration: 5, ease: \"easeOut\" }}\n          onAnimationComplete={() => setIsSpinning(false)}\n        >\n          {[...Array(24)].map((_, index) => (\n            <div\n              key={index}\n              className=\"wheel-sector\"\n              style={{ transform: `rotate(${index * 15}deg)` }}\n            />\n          ))}\n          <div className=\"wheel-border\" />\n          <div className=\"wheel-inner-border\" />\n        </motion.div>\n        {(!isSpinning && (\n          <button\n            onClick={spinWheel}\n            disabled={isSpinning}\n            className=\"spin-button\"\n          >\n            NEW GAME\n          </button>\n        )) || <h3 className=\"partner-selection\">PARTNER SELECTION</h3>}\n      </div>\n      <div className=\"container\"></div>\n    </>\n  );\n};\n\nexport default AncientWheel;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,MAAM,KAAQ,eAAe,CAEtC,MAAO,aAAa,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErB,KAAM,CAAAC,YAGJ,CAAGC,IAAA,EAAkC,IAAjC,CAAEC,YAAY,CAAEC,UAAW,CAAC,CAAAF,IAAA,CAChC,KAAM,CAACG,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACgB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEjE,KAAM,CAAAkB,SAAS,CAAGA,CAAA,GAAM,CACtB,GAAI,CAACN,UAAU,CAAE,CACfK,oBAAoB,CAAC,IAAI,CAAC,CAC1BJ,aAAa,CAAC,IAAI,CAAC,CACnB,KAAM,CAAAM,WAAW,CAAGL,QAAQ,CAAG,IAAI,CAAGM,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,GAAG,CACzDN,WAAW,CAACI,WAAW,CAAC,CAC1B,CACF,CAAC,CAEDpB,SAAS,CAAC,IAAM,CACd,GAAI,CAACa,UAAU,EAAII,iBAAiB,CAAE,CACpCN,YAAY,CAAC,CAAC,CAChB,CACF,CAAC,CAAE,CAACE,UAAU,CAAEI,iBAAiB,CAAEN,YAAY,CAAC,CAAC,CAEjD,mBACEP,KAAA,CAAAI,SAAA,EAAAe,QAAA,eACEnB,KAAA,QAAKoB,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBjB,IAAA,QAAKkB,SAAS,CAAC,OAAO,CAAAD,QAAA,cACpBnB,KAAA,OAAAmB,QAAA,EAAI,WACO,cAAAnB,KAAA,SAAMoB,SAAS,CAAC,SAAS,CAAAD,QAAA,EAAEX,UAAU,CAAC,OAAK,EAAM,CAAC,EACzD,CAAC,CACF,CAAC,cAENR,KAAA,CAACF,MAAM,CAACuB,GAAG,EACTD,SAAS,CAAC,eAAe,CACzBE,OAAO,CAAE,CAAEC,MAAM,CAAEZ,QAAS,CAAE,CAC9Ba,UAAU,CAAE,CAAEC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,SAAU,CAAE,CAC7CC,mBAAmB,CAAEA,CAAA,GAAMjB,aAAa,CAAC,KAAK,CAAE,CAAAS,QAAA,EAE/C,CAAC,GAAGS,KAAK,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,CAAEC,KAAK,gBAC3B7B,IAAA,QAEEkB,SAAS,CAAC,cAAc,CACxBY,KAAK,CAAE,CAAEC,SAAS,CAAE,UAAUF,KAAK,CAAG,EAAE,MAAO,CAAE,EAF5CA,KAGN,CACF,CAAC,cACF7B,IAAA,QAAKkB,SAAS,CAAC,cAAc,CAAE,CAAC,cAChClB,IAAA,QAAKkB,SAAS,CAAC,oBAAoB,CAAE,CAAC,EAC5B,CAAC,CACX,CAACX,UAAU,eACXP,IAAA,WACEgC,OAAO,CAAEnB,SAAU,CACnBoB,QAAQ,CAAE1B,UAAW,CACrBW,SAAS,CAAC,aAAa,CAAAD,QAAA,CACxB,UAED,CAAQ,CACT,eAAKjB,IAAA,OAAIkB,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,mBAAiB,CAAI,CAAC,EAC3D,CAAC,cACNjB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAAM,CAAC,EACjC,CAAC,CAEP,CAAC,CAED,cAAe,CAAAf,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}